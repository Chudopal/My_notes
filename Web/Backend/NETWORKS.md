# Networks

+ [Sockets](#sockets)
+ [DNS](#dns)

### <a name="sockets"> Sockets </a>
+ Сокеты используются для пересылки сообщений по сети. Сокеты можно охарактеризовать следующими методами:
  + socket() - открывает соединение;
  + bind() - привязывает сервер к конкретному адресу а хосту;
  + listen() - сервер прослушивает соединения с клиентами;
  + accept() - принимает или завершает соединение;
  + connect() - сервер устанавливает соединение с сервером и делает трестороннее рукопожатие. Этот шаг обеспечивает доступность соединения для каждой стороны. Другими словами, что сервер может связаться с клиентом и наоброт;
  + send() - отправка сообщения;
  + recv() - принять сообщение;
  + close() - закрыть сокет;
+ Схему взаимодействия по сокету можно представить следующией  картинкой:
    ![](./source/server_flow.png)

### <a name="dns"> </a> DNS
+ DNS(Domain name system) - иерархическая децентрализованная система имен для различных ресурсов. На нее приходит запрос с понятным человеку названием а возвращается ответ в виде IPv4/6 адреса сервера.
+ Архитектура DNS - это иерархическая распределенная база данных и связанный с ней набор протоколов, которые определяют:
    + Механизм запроса и обновления базы данных.
    + Механизм репликации информации в базе данных между серверами.
    + Схему базы данных.
+ Система доменных имен реализована как иерархическая и распределенная база данных, содержащая различные типы данных, включая имена хостов и доменные имена. Имена в базе данных DNS образуют иерархическую древовидную структуру, называемую **пространством имен домена**. Полное доменное имя (fully qualified domain name(FQDN)) однозначно определяет позицию хоста в иерархическом дереве DNS путем указания списка имен, разделенных точками на пути от хоста, на который имеется ссылка, к корню. DNS-серверы часто функционируют как DNS-клиенты, запрашивая другие серверы, чтобы полностью разрешить запрошенное имя. 
+ Для обозначеия иерархии используются точки. От этих обозначений зависит уровень домена в иерархической системе. Например `microsoft.com` - это доменное имя второго уровня, `mydomain.microsoft.com` - это поддомен:
    ![](./source/microsoft_domain_hierarhy.png)
+ Типы доменных имен:

Тип имени       | Описание | Пример
------------- | ------------- | ------------- 
Корневой домен | Это вершина дерева, представляющая безымянный уровень; иногда он отображается как две пустые кавычки («»), указывающие на нулевое значение. При использовании в доменном имени DNS оно обозначается точкой в конце (.), Обозначающей, что имя находится на корневом или наивысшем уровне доменной иерархии. В этом случае доменное имя DNS считается полным и указывает на точное место в дереве имен. Указанные таким образом имена являются полными доменными именами. | Одна точка (.) Или точка в конце имени, например «example.microsoft.com.».
Домен верхнего уровня | Имя, используемое для обозначения страны / региона или типа организации, использующей имя. | «.com» означает имя, зарегистрированное для бизнеса для коммерческого использования в Интернете.
Домен второго уровня | Имена переменной длины, зарегистрированные на физическое лицо или организацию для использования в Интернете. Эти имена всегда основаны на соответствующем домене верхнего уровня, в зависимости от типа организации или географического местоположения, в котором используется имя. | «microsoft.com.» - является доменным именем второго уровня, зарегистрированным в Microsoft регистратором доменных имен DNS в Интернете.
Поддомен | Дополнительные имена, которые организация может создать на основе зарегистрированного доменного имени второго уровня. К ним относятся имена, добавленные для роста дерева имен DNS в организации и разделения его на отделы или географические местоположения. | "example.microsoft.com.”, Который представляет собой вымышленный поддомен, назначенный Microsoft для использования в именах примеров документации.
Имя хоста или ресурса | Имена, которые представляют собой лист в дереве имен DNS и идентифицируют конкретный ресурс. Обычно крайняя левая метка доменного имени DNS идентифицирует конкретный компьютер в сети. Например, если имя на этом уровне используется в записи ресурса хоста (A), оно используется для поиска IP-адреса компьютера на основе его имени хоста. | «host-a.example.microsoft.com.», где первая метка («host-a») - это имя хоста DNS для определенного компьютера в сети.
+ База данных DNS состоит из записей ресурсов (resource record (RR)). Каждая запись RR идентифицирует определенный ресурс в базе данных. В DNS существуют различные типы RR:
Описание      | Время жизни TTL | Тип | Данные
------------- | ------------- | ------------- | ------------- 
Начало полномочий | По умолчанию TTL составляет 60 минут. | SOA | Имя владельца DNS-имя первичного сервера имен, серийный номер, интервал обновления,иИнтервал повтора, время хранения, минимальный TTL
Хост | TTL для конкретной записи, если присутствует, или TTL для зоны (SOA) | A | Имя владельца (DNS-имя хоста), IP-адрес хоста
Сервер имен | TTL для конкретной записи, если присутствует, или TTL для зоны (SOA) | NS |Имя владельца, DNS-имя сервера имен 
Почтовый обменник | TTL для конкретной записи, если присутствует, или TTL для зоны (SOA) | MX | Имя владельца, DNS-имя почтового сервера, предпочтительный номер
Каноническое имя | TTL для конкретной записи, если присутствует, или TTL для зоны (SOA) | CNAME | Имя владельца (псевдоним), DNS-имя хоста
